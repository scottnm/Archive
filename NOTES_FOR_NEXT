change ints to bools where appropriate

use auto where possible
